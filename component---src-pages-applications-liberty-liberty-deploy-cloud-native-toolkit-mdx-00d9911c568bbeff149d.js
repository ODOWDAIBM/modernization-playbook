(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{xaLG:function(A,e,t){"use strict";t.r(e),t.d(e,"Title",(function(){return o})),t.d(e,"_frontmatter",(function(){return l})),t.d(e,"default",(function(){return m}));t("91GP"),t("rGqo"),t("yt8O"),t("Btvt"),t("RW0V"),t("q1tI");var a=t("7ljp"),i=t("013z");t("qKvR");function n(){return(n=Object.assign||function(A){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(A[a]=t[a])}return A}).apply(this,arguments)}var o=function(){return Object(a.b)("span",null,"Modernizing runtimes with Liberty ",Object(a.b)("br",null)," ",Object(a.b)("h2",null,"Deploy using Cloud Native Toolkit Pipelines"))},l={},p=function(A){return function(e){return console.warn("Component "+A+" was not imported, exported, or provided by MDXProvider as global scope"),Object(a.b)("div",e)}},r=p("PageDescription"),b=p("AnchorLinks"),c=p("AnchorLink"),s={Title:o,_frontmatter:l},d=i.a;function m(A){var e=A.components,t=function(A,e){if(null==A)return{};var t,a,i={},n=Object.keys(A);for(a=0;a<n.length;a++)t=n[a],e.indexOf(t)>=0||(i[t]=A[t]);return i}(A,["components"]);return Object(a.b)(d,n({},s,t,{components:e,mdxType:"MDXLayout"}),Object(a.b)(r,{mdxType:"PageDescription"},Object(a.b)("p",null,"This section covers how to deploy the CustomerOrderServices application to Red Hat OpenShift using the pipelines provided by the ",Object(a.b)("a",n({parentName:"p"},{href:"https://cloudnativetoolkit.dev"}),"Cloud Native Toolkit"))),Object(a.b)("h2",null,"Summary"),Object(a.b)("p",null,"This section has the following steps:"),Object(a.b)(b,{small:!0,mdxType:"AnchorLinks"},Object(a.b)(c,{mdxType:"AnchorLink"},"Cloud Native Toolkit pipelines"),Object(a.b)(c,{mdxType:"AnchorLink"},"Prerequisites"),Object(a.b)(c,{mdxType:"AnchorLink"},"Create application database"),Object(a.b)(c,{mdxType:"AnchorLink"},"Create the application in Git"),Object(a.b)(c,{mdxType:"AnchorLink"},"Clone the application code locally"),Object(a.b)(c,{mdxType:"AnchorLink"},"Configure the application namespace"),Object(a.b)(c,{mdxType:"AnchorLink"},"Register the application with the Toolkit pipeline"),Object(a.b)(c,{mdxType:"AnchorLink"},"Execute the Toolkit pipeline"),Object(a.b)(c,{mdxType:"AnchorLink"},"Review the Sonar Scan for the application"),Object(a.b)(c,{mdxType:"AnchorLink"},"Validate the application"),Object(a.b)(c,{mdxType:"AnchorLink"},"Review and Next Steps")),Object(a.b)("h2",null,"Cloud Native Toolkit pipelines"),Object(a.b)("p",null,Object(a.b)("a",n({parentName:"p"},{href:"https://cloudnativetoolkit.dev"}),"Cloud Native Toolkit")," is an open-source collection of assets that provide an environment for developing cloud-native applications for deployment within Red Hat OpenShift and Kubernetes. It embodies IBM Garage Method principles and practices for consistently developed applications, incorporating best practices that increase developer velocity for efficient delivery of business value."),Object(a.b)("p",null,"The diagram below shows the flow of the pipeline which starts when the developer checks their code in to Git:"),Object(a.b)("p",null,"  ",Object(a.b)("span",n({parentName:"p"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"785px"}}),"\n      ",Object(a.b)("span",n({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"26.041666666666668%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB16EB/8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQABBQJ//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQAGPwJ//8QAFxABAAMAAAAAAAAAAAAAAAAAAQAQMf/aAAgBAQABPyEykn//2gAMAwEAAgADAAAAEIAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhAAAgMBAQAAAAAAAAAAAAAAAAERITFhof/aAAgBAQABPxCTS/Bqt3iEyf/Z')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(a.b)("img",n({parentName:"span"},{className:"gatsby-resp-image-image",alt:"Pipeline",title:"Pipeline",src:"/modernization-playbook/static/f86d54ad891ce1522ccc189603954889/38a8b/toolkit-pipeline1.jpg",srcSet:["/modernization-playbook/static/f86d54ad891ce1522ccc189603954889/69549/toolkit-pipeline1.jpg 288w","/modernization-playbook/static/f86d54ad891ce1522ccc189603954889/473e3/toolkit-pipeline1.jpg 576w","/modernization-playbook/static/f86d54ad891ce1522ccc189603954889/38a8b/toolkit-pipeline1.jpg 785w"],sizes:"(max-width: 785px) 100vw, 785px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    ")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"test: the application code is compiled and unit tests are executed using ",Object(a.b)("a",n({parentName:"p"},{href:"https://maven.apache.org/"}),"Maven")," before the static code is analyzed for quality using ",Object(a.b)("a",n({parentName:"p"},{href:"https://www.sonarqube.org/"}),"SonarQube"),".")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"build: the container image for the application is created using ",Object(a.b)("a",n({parentName:"p"},{href:"https://buildah.io"}),"buildah")," and pushed to the Image Registry in the local OpenShift cluster")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"trivy-scan: the container image in the local Image Registry is scanned for vulnerabilities using ",Object(a.b)("a",n({parentName:"p"},{href:"https://github.com/aquasecurity/trivy"}),"Trivy"))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"deploy: deploy the application to the ",Object(a.b)("inlineCode",{parentName:"p"},"dev")," namespace")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"health-check: validate the the application is functioning correctly in the ",Object(a.b)("inlineCode",{parentName:"p"},"dev")," namespace. Automated testing may occur at this step but is out of the scope of this solution.")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"tag-release: create a new ‘release’ for the application in the Git repository")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"img-release: tag and push the container image to the central Image Repository")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"scan: scan the container image in the central Image Registry using ",Object(a.b)("a",n({parentName:"p"},{href:"https://cloud.ibm.com/apidocs/container-registry/va"}),"IBM Vulnerability Advisor"))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"helm-release: package a helm release for the application and load it in to the central Artifact Repository ",Object(a.b)("a",n({parentName:"p"},{href:"https://jfrog.com/artifactory"}),"Artifactory"))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"gitops: update the GitOps repository with the latest helm release information to trigger ",Object(a.b)("a",n({parentName:"p"},{href:"https://argoproj.github.io/argo-cd/"}),"ArgoCD")," to deploy the application to the ",Object(a.b)("inlineCode",{parentName:"p"},"test")," namespace"))),Object(a.b)("h2",null,"Deploy the Application"),Object(a.b)("p",null,"The following steps will deploy the modernized Customer Order Services application in a WebSphere Liberty container to a Red Hat OpenShift cluster."),Object(a.b)("h3",null,"Prerequisites"),Object(a.b)("p",null,"You will need the following:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",n({parentName:"li"},{href:"https://git-scm.com/book/en/v2/Getting-Started-Installing-Git"}),"Git CLI")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",n({parentName:"li"},{href:"https://cloudnativetoolkit.dev/getting-started/prereqs#configure-github-personal-access-token"}),"GitHub Personal Access Token")),Object(a.b)("li",{parentName:"ul"},"Red Hat OpenShift Container Platfrom 4.4 with Cluster Admin permissions"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",n({parentName:"li"},{href:"https://cloudnativetoolkit.dev/getting-started-day-0/plan-installation/ibm-cloud"}),"Cloud Native Toolkit installed and configured")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",n({parentName:"li"},{href:"https://cloudnativetoolkit.dev/getting-started/cli"}),"igc CLI")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",n({parentName:"li"},{href:"https://docs.openshift.com/container-platform/3.11/cli_reference/get_started_cli.html"}),"oc CLI")),Object(a.b)("li",{parentName:"ul"},"DB2 Database")),Object(a.b)("h3",null,"Create application database"),Object(a.b)("p",null,"As said in the prerequisites section above, the Customer Order Services application uses uses DB2 as its database."),Object(a.b)("p",null,"If you want to use a pre-configured DB2 database in a container in OpenShift, use the instructions provided ",Object(a.b)("a",n({parentName:"p"},{href:"db2"}),"here")),Object(a.b)("p",null,"Alternatively, if you have a DB2 server that you want to use, follow these steps to create the appropriate database, tables and data the application needs to:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Copy the createOrderDB.sql and initialDataSet.sql files you can find in the Common directory of this repository over to the db2 host machine (or git clone the repository) in order to execute them later.")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"ssh into the db2 host")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Change to the db2 instance user: `su {database_instance_name}“")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Start db2: ",Object(a.b)("inlineCode",{parentName:"p"},"db2start"))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Create the ORDERDB database: ",Object(a.b)("inlineCode",{parentName:"p"},"db2 create database ORDERDB"))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Connect to the ORDERDB database: ",Object(a.b)("inlineCode",{parentName:"p"},"db2 connect to ORDERDB"))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Execute the createOrderDB.sql script you copied over in step 1 in order to create the appropriate tables, relationships, primary keys, etc: ",Object(a.b)("inlineCode",{parentName:"p"},"db2 -tf createOrderDB.sql"))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Execute the initialDataSet.sql script you copied over in step 1 to populate the ORDERDB database with the needed initial data set: ",Object(a.b)("inlineCode",{parentName:"p"},"db2 -tf initialDataSet.sql")))),Object(a.b)("p",null,"If you want to re-run the scripts, please make sure you drop the databases and create them again."),Object(a.b)("h3",null,"Create the application in Git"),Object(a.b)("p",null,"Create an instance of the ",Object(a.b)("inlineCode",{parentName:"p"},"template GitHub repository")," in your own GitHub account using the following steps:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Click ",Object(a.b)("a",n({parentName:"p"},{href:"https://github.com/ibm-cloud-architecture/appmod-liberty-toolkit/generate"}),"here")," to create an instance of the template")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Ensure that the ",Object(a.b)("inlineCode",{parentName:"p"},"owner")," field is set correctly, and then enter a unique ",Object(a.b)("inlineCode",{parentName:"p"},"repository name"))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Leave the repository as a ",Object(a.b)("inlineCode",{parentName:"p"},"public")," repository and click ",Object(a.b)("strong",{parentName:"p"},"Create repository from this template")),Object(a.b)("span",n({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"569px"}}),"\n      ",Object(a.b)("span",n({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"69.44444444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHubK6Av//EABcQAQADAAAAAAAAAAAAAAAAABABERL/2gAIAQEAAQUCdxZ//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGhABAAIDAQAAAAAAAAAAAAAAARARACFRYf/aAAgBAQABPyGnmB5A1ads/wD/2gAMAwEAAgADAAAAEATP/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAR/9oACAEDAQE/EB2f/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Qp//EAB0QAQADAAEFAAAAAAAAAAAAAAEAESFBEDFRcdH/2gAIAQEAAT8QuMN3ysE3L7h25lc20GH2Anjp/9k=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(a.b)("img",n({parentName:"span"},{className:"gatsby-resp-image-image",alt:"template",title:"template",src:"/modernization-playbook/static/64c3d7668032d6b1a09b8e659baaeb0b/caa47/toolkit-pipeline-2.jpg",srcSet:["/modernization-playbook/static/64c3d7668032d6b1a09b8e659baaeb0b/69549/toolkit-pipeline-2.jpg 288w","/modernization-playbook/static/64c3d7668032d6b1a09b8e659baaeb0b/caa47/toolkit-pipeline-2.jpg 569w"],sizes:"(max-width: 569px) 100vw, 569px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "))),Object(a.b)("h3",null,"Clone the application code locally"),Object(a.b)("p",null,"The newly created repository will be shown in your browser. In order to clone the code locally, use the following steps"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"In the browser, click the green ",Object(a.b)("strong",{parentName:"p"},"Code")," button and use the *",Object(a.b)("em",{parentName:"p"},"copy")," icon to copy the ",Object(a.b)("inlineCode",{parentName:"p"},"https://github.com/...")," URL")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Navigate to a ",Object(a.b)("inlineCode",{parentName:"p"},"directory/folder")," on your local machine where you want to clone the code")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Enter the following command, pasting the copied URL after the ",Object(a.b)("inlineCode",{parentName:"p"},"git clone "),":"))),Object(a.b)("pre",null,Object(a.b)("code",n({parentName:"pre"},{}),"git clone <URL>\n")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Navigate in to the cloned code. The ",Object(a.b)("inlineCode",{parentName:"li"},"folder")," will have the same name as the ",Object(a.b)("inlineCode",{parentName:"li"},"repository"))),Object(a.b)("pre",null,Object(a.b)("code",n({parentName:"pre"},{}),"cd <REPO_NAME>\n")),Object(a.b)("p",null,"  ",Object(a.b)("span",n({parentName:"p"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"662px"}}),"\n      ",Object(a.b)("span",n({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"20.833333333333336%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAde4JA//xAAWEAADAAAAAAAAAAAAAAAAAAAAARD/2gAIAQEAAQUCFP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABcQAAMBAAAAAAAAAAAAAAAAAAABECH/2gAIAQEAAT8hEyf/2gAMAwEAAgADAAAAEHPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGBABAQEBAQAAAAAAAAAAAAAAAREAUXH/2gAIAQEAAT8QGTWFb7ocN//Z')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(a.b)("img",n({parentName:"span"},{className:"gatsby-resp-image-image",alt:"template",title:"template",src:"/modernization-playbook/static/33cd5854866960cc9e2cd163a097ce34/bee96/toolkit-pipeline-3.jpg",srcSet:["/modernization-playbook/static/33cd5854866960cc9e2cd163a097ce34/69549/toolkit-pipeline-3.jpg 288w","/modernization-playbook/static/33cd5854866960cc9e2cd163a097ce34/473e3/toolkit-pipeline-3.jpg 576w","/modernization-playbook/static/33cd5854866960cc9e2cd163a097ce34/bee96/toolkit-pipeline-3.jpg 662w"],sizes:"(max-width: 662px) 100vw, 662px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    ")),Object(a.b)("h3",null,"Configure the application namespace"),Object(a.b)("p",null,"Create a new OpenShift project for the ",Object(a.b)("inlineCode",{parentName:"p"},"dev")," namespace using the following steps"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Issue the following command to new OpenShift ",Object(a.b)("inlineCode",{parentName:"li"},"project")," and configure it with the required ",Object(a.b)("inlineCode",{parentName:"li"},"Service Accounts"),", ",Object(a.b)("inlineCode",{parentName:"li"},"Config Maps")," and ",Object(a.b)("inlineCode",{parentName:"li"},"Secrets"))),Object(a.b)("pre",null,Object(a.b)("code",n({parentName:"pre"},{}),"oc sync cos-with-toolkit-dev --dev\n")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Issue the following command to set the current project to ",Object(a.b)("inlineCode",{parentName:"li"},"cos-with-toolkit-dev"))),Object(a.b)("pre",null,Object(a.b)("code",n({parentName:"pre"},{}),"oc project cos-with-toolkit-dev\n")),Object(a.b)("h3",null,"Register the application with the Toolkit pipeline"),Object(a.b)("p",null,"In order to configure the application to use the pipeline provided by the toolkit, use the following steps"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Issue the following command")),Object(a.b)("pre",null,Object(a.b)("code",n({parentName:"pre"},{}),"oc pipeline\n")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"When prompted to ",Object(a.b)("strong",{parentName:"p"},"Select the type of pipeline that should be run"),", select ",Object(a.b)("inlineCode",{parentName:"p"},"Tekton"))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"When prompted for your ",Object(a.b)("strong",{parentName:"p"},"git credentials")," use your ",Object(a.b)("inlineCode",{parentName:"p"},"username"),", ",Object(a.b)("inlineCode",{parentName:"p"},"API token")," and the ",Object(a.b)("inlineCode",{parentName:"p"},"master")," branch")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"When prompted to ",Object(a.b)("strong",{parentName:"p"},"Select the Pipeline to use in the PipelineRun"),", select ",Object(a.b)("inlineCode",{parentName:"p"},"ibm-appmod-liberty"))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"When prompted ",Object(a.b)("strong",{parentName:"p"},"? scan-image: Enable the pipeline to scan the image for vulnerabilities? (Y/n)"),", enter ",Object(a.b)("inlineCode",{parentName:"p"},"Y")),Object(a.b)("span",n({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"590px"}}),"\n      ",Object(a.b)("span",n({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"43.75%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAwAF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB1lNBKj//xAAXEAADAQAAAAAAAAAAAAAAAAAAARAC/9oACAEBAAEFAhXM/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAHBAAAgAHAAAAAAAAAAAAAAAAAAEQETFhcYGR/9oACAEBAAE/IVow4TsxFEP/2gAMAwEAAgADAAAAEKAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAAICAwAAAAAAAAAAAAAAAQAhEDERQZH/2gAIAQEAAT8Qb47jNC5gpYZJqf/Z')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(a.b)("img",n({parentName:"span"},{className:"gatsby-resp-image-image",alt:"template",title:"template",src:"/modernization-playbook/static/95f3b0e8d026eae1c42f352e88b9c0bb/625aa/toolkit-pipeline-4.jpg",srcSet:["/modernization-playbook/static/95f3b0e8d026eae1c42f352e88b9c0bb/69549/toolkit-pipeline-4.jpg 288w","/modernization-playbook/static/95f3b0e8d026eae1c42f352e88b9c0bb/473e3/toolkit-pipeline-4.jpg 576w","/modernization-playbook/static/95f3b0e8d026eae1c42f352e88b9c0bb/625aa/toolkit-pipeline-4.jpg 590w"],sizes:"(max-width: 590px) 100vw, 590px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    ")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"When prompted ",Object(a.b)("strong",{parentName:"p"},"? health-endpoint: Endpoint to check health after deployment, liberty uses / not /health? (/)"),", press enter")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"When promoted ",Object(a.b)("strong",{parentName:"p"},"? java-bin-path: The path to the java binaries. The default value is “target”? (target)"),", enter ",Object(a.b)("inlineCode",{parentName:"p"},"CustomerOrderServicesApp/target")))),Object(a.b)("p",null,"The result will be a specialized ",Object(a.b)("inlineCode",{parentName:"p"},"tekton pipeline")," for Liberty applications that has been configured with a ",Object(a.b)("strong",{parentName:"p"},"WebHook")," from your ",Object(a.b)("inlineCode",{parentName:"p"},"GitHub repository"),"."),Object(a.b)("h3",null,"Review the Sonar Scan for the application"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Use the ",Object(a.b)("inlineCode",{parentName:"li"},"Cloud Native Toolkit Dashboard")," to find the link to SonarQube in your environment")),Object(a.b)("pre",null,Object(a.b)("code",n({parentName:"pre"},{}),"igc dashboard\n")),Object(a.b)("p",null,"  ",Object(a.b)("span",n({parentName:"p"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1048px"}}),"\n      ",Object(a.b)("span",n({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"42.36111111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB2KFB/8QAFxAAAwEAAAAAAAAAAAAAAAAAAAITA//aAAgBAQABBQKaE0J5n//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABcQAAMBAAAAAAAAAAAAAAAAAAACMpH/2gAIAQEABj8ChcIXCFw//8QAFRABAQAAAAAAAAAAAAAAAAAAAPH/2gAIAQEAAT8hMjEo/9oADAMBAAIAAwAAABCAD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/EFf/xAAdEAACAgEFAAAAAAAAAAAAAAABEQBBMVGRocHw/9oACAEBAAE/EFB2LE9R7oD1uIFeLaf/2Q==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(a.b)("img",n({parentName:"span"},{className:"gatsby-resp-image-image",alt:"template",title:"template",src:"/modernization-playbook/static/5606d81f849fd5e71dfedd0baaaf8d74/ea6e4/toolkit-pipeline-13.jpg",srcSet:["/modernization-playbook/static/5606d81f849fd5e71dfedd0baaaf8d74/69549/toolkit-pipeline-13.jpg 288w","/modernization-playbook/static/5606d81f849fd5e71dfedd0baaaf8d74/473e3/toolkit-pipeline-13.jpg 576w","/modernization-playbook/static/5606d81f849fd5e71dfedd0baaaf8d74/ea6e4/toolkit-pipeline-13.jpg 1048w"],sizes:"(max-width: 1048px) 100vw, 1048px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    ")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Once in the SonaQube UI, click ",Object(a.b)("strong",{parentName:"li"},"Projects")," and review the results for your project\n",Object(a.b)("span",n({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"977px"}}),"\n      ",Object(a.b)("span",n({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"20.833333333333336%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAdehQn//xAAXEAADAQAAAAAAAAAAAAAAAAAAAQIS/9oACAEBAAEFAsQYgcyz/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAEykQL/2gAIAQEABj8ClYRzhKP/xAAZEAEAAgMAAAAAAAAAAAAAAAABABEhccH/2gAIAQEAAT8hKuaF0CGV2T//2gAMAwEAAgADAAAAEPA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAAMAAwAAAAAAAAAAAAAAAQARITFh8P/aAAgBAQABPxBwv3dQOARxDBCxXIs//9k=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(a.b)("img",n({parentName:"span"},{className:"gatsby-resp-image-image",alt:"template",title:"template",src:"/modernization-playbook/static/de7b05428e647547cf2f8ac27ee1d7ef/fdd9e/toolkit-pipeline-14.jpg",srcSet:["/modernization-playbook/static/de7b05428e647547cf2f8ac27ee1d7ef/69549/toolkit-pipeline-14.jpg 288w","/modernization-playbook/static/de7b05428e647547cf2f8ac27ee1d7ef/473e3/toolkit-pipeline-14.jpg 576w","/modernization-playbook/static/de7b05428e647547cf2f8ac27ee1d7ef/fdd9e/toolkit-pipeline-14.jpg 977w"],sizes:"(max-width: 977px) 100vw, 977px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "))),Object(a.b)("h3",null,"Validate the application"),Object(a.b)("p",null,"Now that the pipeline is complete, validate the Customer Order Services application is deployed and running in ",Object(a.b)("inlineCode",{parentName:"p"},"cos-with-tekton-dev")," project"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"In the OpenShift Console, navigate to ",Object(a.b)("strong",{parentName:"li"},"Workloads —> Deployments")," view and click on the ",Object(a.b)("inlineCode",{parentName:"li"},"cos-with-toolkit")," Deployment to view deployment details\n",Object(a.b)("span",n({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"908px"}}),"\n      ",Object(a.b)("span",n({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"30.555555555555554%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAGABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABvABP/8QAFRABAQAAAAAAAAAAAAAAAAAAARD/2gAIAQEAAQUCL//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABcQAQEBAQAAAAAAAAAAAAAAAAEAEUH/2gAIAQEAAT8hGd2XEi//2gAMAwEAAgADAAAAEHvf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAFxABAQEBAAAAAAAAAAAAAAAAAREAMf/aAAgBAQABPxBTFU2uiE7qS3f/2Q==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(a.b)("img",n({parentName:"span"},{className:"gatsby-resp-image-image",alt:"template",title:"template",src:"/modernization-playbook/static/bb28e93d704ca4b5d691f43de6bc5419/b6099/toolkit-pipeline-15.jpg",srcSet:["/modernization-playbook/static/bb28e93d704ca4b5d691f43de6bc5419/69549/toolkit-pipeline-15.jpg 288w","/modernization-playbook/static/bb28e93d704ca4b5d691f43de6bc5419/473e3/toolkit-pipeline-15.jpg 576w","/modernization-playbook/static/bb28e93d704ca4b5d691f43de6bc5419/b6099/toolkit-pipeline-15.jpg 908w"],sizes:"(max-width: 908px) 100vw, 908px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "))),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Next, navigate to the ",Object(a.b)("strong",{parentName:"li"},"Networking —> Routes")," view and click on the ",Object(a.b)("strong",{parentName:"li"},"Location")," to open a browser session for the application\n",Object(a.b)("span",n({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"914px"}}),"\n      ",Object(a.b)("span",n({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"40.27777777777778%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAd2iAv8A/8QAFRABAQAAAAAAAAAAAAAAAAAAARD/2gAIAQEAAQUCL//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABYQAQEBAAAAAAAAAAAAAAAAAAEQYf/aAAgBAQABPyEJt//aAAwDAQACAAMAAAAQ/wDP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAAIDAQAAAAAAAAAAAAAAAQARIVFxof/aAAgBAQABPxAEF6SKWFZZTvyf/9k=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(a.b)("img",n({parentName:"span"},{className:"gatsby-resp-image-image",alt:"template",title:"template",src:"/modernization-playbook/static/65ad7083eade2a3f6304881603fd9739/8a623/toolkit-pipeline-16.jpg",srcSet:["/modernization-playbook/static/65ad7083eade2a3f6304881603fd9739/69549/toolkit-pipeline-16.jpg 288w","/modernization-playbook/static/65ad7083eade2a3f6304881603fd9739/473e3/toolkit-pipeline-16.jpg 576w","/modernization-playbook/static/65ad7083eade2a3f6304881603fd9739/8a623/toolkit-pipeline-16.jpg 914w"],sizes:"(max-width: 914px) 100vw, 914px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "))),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Add ",Object(a.b)("inlineCode",{parentName:"p"},"/CustomerOrderServicesWeb")," to the end of the URL in the browser to access the application"),Object(a.b)("span",n({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"833px"}}),"\n      ",Object(a.b)("span",n({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"29.86111111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAGABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAdGwkVP/xAAYEAADAQEAAAAAAAAAAAAAAAAAAQMEFP/aAAgBAQABBQLkkLNJDlFP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8BR//EABoQAAEFAQAAAAAAAAAAAAAAAAABMTIzkaH/2gAIAQEABj8CbpHStD//xAAZEAACAwEAAAAAAAAAAAAAAAAAARFBkYH/2gAIAQEAAT8hluuinvRCHgf/2gAMAwEAAgADAAAAEIA//8QAFREBAQAAAAAAAAAAAAAAAAAAAQD/2gAIAQMBAT8Qlb//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8QSMf/xAAbEAACAgMBAAAAAAAAAAAAAAAAARFRMcHR4f/aAAgBAQABPxDISVLoTETbPYdnbVej/9k=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(a.b)("img",n({parentName:"span"},{className:"gatsby-resp-image-image",alt:"Dev Running",title:"Dev Running",src:"/modernization-playbook/static/a8d77467b1f8fa460c214edbbf743643/0d3e7/dev-running.jpg",srcSet:["/modernization-playbook/static/a8d77467b1f8fa460c214edbbf743643/69549/dev-running.jpg 288w","/modernization-playbook/static/a8d77467b1f8fa460c214edbbf743643/473e3/dev-running.jpg 576w","/modernization-playbook/static/a8d77467b1f8fa460c214edbbf743643/0d3e7/dev-running.jpg 833w"],sizes:"(max-width: 833px) 100vw, 833px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    ")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Log in to the application with ",Object(a.b)("inlineCode",{parentName:"p"},"username: rbarcia")," and ",Object(a.b)("inlineCode",{parentName:"p"},"password: bl0wfish")))),Object(a.b)("h2",null,"Review and Next Steps"),Object(a.b)("p",null,"In this section you configured a CI/CD pipeline for the CustomerOrderServices application that builds, tests, scans and validates the application code and Container Image and results in the application running in a ",Object(a.b)("inlineCode",{parentName:"p"},"dev")," environment."))}m.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-applications-liberty-liberty-deploy-cloud-native-toolkit-mdx-00d9911c568bbeff149d.js.map